<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="/style.css" rel="stylesheet" />
	<title>Report Form</title>
	<link href="/style.css" rel="stylesheet" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
	<style>
		button {
			border-radius: 4px;
		}
	</style>
</head>

<body>
	<div class="custom-container">
		<div th:replace="fragments/navbar"></div>
	</div>
	<div class="container" style="width: 60%;">
		<h1>Report Form</h1>
		<br />
		<form action="/report/reportRecipe" method="post" th:object="${report}">
			<div class="form-group">
				<label for="reason">Reason:</label>
				<textarea id="reason" name="reason" th:field="*{reason}" rows="4" cols="50" maxlength="400"
					required></textarea>
			</div>
			<input type="hidden" th:field="*{member}" th:value="${report.member}">
			<input type="hidden" th:field="*{recipeReported}" th:value="${report.recipeReported}">
			<button type="submit" value="Submit Report">Submit Report</button>
		</form>
	</div>
	<script>
		var textarea = document.getElementById('reason');
		textarea.addEventListener('input', function (event) {
			var currentLength = textarea.value.length;
			var maxLength = parseInt(textarea.getAttribute('maxlength'));
			if (currentLength > maxLength) {
				event.preventDefault();
				alert('reason should not be longer than 400 chars');
			}
		});
	</script>
</body>

</html>